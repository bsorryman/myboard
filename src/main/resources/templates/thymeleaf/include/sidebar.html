<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      th:fragment="sidebar"
      lang="ko">
      
    <div id="sidebar">
      <div class="inner">
        <!-- Search -->
        <section id="search" class="alt" style="margin: -2.22222em 0 2em -2.22222em;">
          <form method="post" action="#">
            <input type="text" name="query" id="query"
              placeholder="Search" />
          </form>
        </section>
        <!-- Member info -->             
        
        <section>
          <th:block th:if="${#authorization.expression('isAuthenticated()')}">
            <header class="major" style="display: flex;">
              <div style="border-bottom:solid 3px #f56a6a; margin-bottom: 2.75em;" >
                <img th:src="${#authentication.principal.picture!=null ? #authentication.principal.picture : '/images/default_profile.png' }" style="width:30px; height:30px;">
              </div>
              <h2>
                <strong>[[${#authentication.principal.nickname}]]</strong> 
              </h2>
            </header>
            <a href="/logout">로그아웃</a>
          </th:block>
          <th:block th:if="${#authorization.expression('!isAuthenticated()')}">
            <a href="/login">로그인 </a>
            <a href="/signup"> 회원가입</a>
          </th:block>          
<!--           <img th:src="${#authentication.principal.picture}" -->
<!--                 alt="" /> -->
        </section>
        <!-- Menu -->
        <nav id="menu">
          <header class="major">
            <h2>Menu</h2>
          </header>
          <ul>
            <li class="menuLi" id="homeMenu" style="visibility: hidden;"><a href="/index">Home</a></li>
            <li><a href="/board/free/list">자유게시판</a></li>
            <li><a href="/board/member/list">회원게시판</a></li>
            <li class="menuLi" id="projectMenu" style="visibility: hidden;"><span class="opener">프로젝트</span>
              <ul>
                <li><a href="#">RecipeBag</a></li>
                <li><a href="#">MyBoard</a></li>
              </ul>
            </li>
<!--             <li><a href="#">Etiam Dolore</a></li> -->
<!--             <li><a href="#">Adipiscing</a></li> -->
<!--             <li><span class="opener">Another Submenu</span> -->
<!--               <ul> -->
<!--                 <li><a href="#">Lorem Dolor</a></li> -->
<!--                 <li><a href="#">Ipsum Adipiscing</a></li> -->
<!--                 <li><a href="#">Tempus Magna</a></li> -->
<!--                 <li><a href="#">Feugiat Veroeros</a></li> -->
<!--               </ul></li> -->
<!--             <li><a href="#">Maximus Erat</a></li> -->
<!--             <li><a href="#">Sapien Mauris</a></li> -->
<!--             <li><a href="#">Amet Lacinia</a></li> -->
          </ul>
        </nav>

        <!-- Section -->
        <!-- 
        <section>
          <header class="major">
            <h2>Ante interdum</h2>
          </header>
          <div class="mini-posts">
            <article>
              <a href="#" class="image"><img src="images/pic07.jpg"
                alt="" /></a>
              <p>Aenean ornare velit lacus, ac varius enim lorem
                ullamcorper dolore aliquam.</p>
            </article>
            <article>
              <a href="#" class="image"><img src="images/pic08.jpg"
                alt="" /></a>
              <p>Aenean ornare velit lacus, ac varius enim lorem
                ullamcorper dolore aliquam.</p>
            </article>
            <article>
              <a href="#" class="image"><img src="images/pic09.jpg"
                alt="" /></a>
              <p>Aenean ornare velit lacus, ac varius enim lorem
                ullamcorper dolore aliquam.</p>
            </article>
          </div>
          <ul class="actions">
            <li><a href="#" class="button">More</a></li>
          </ul>
        </section>
        -->
        <!-- Section -->
        <section>
          <header class="major">
            <h2>Get in touch</h2>
          </header>
          <p>Sed varius enim lorem ullamcorper dolore aliquam aenean
            ornare velit lacus, ac varius enim lorem ullamcorper dolore.
            Proin sed aliquam facilisis ante interdum. Sed nulla amet
            lorem feugiat tempus aliquam.</p>
          <ul class="contact">
            <li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li>
            <li class="icon solid fa-phone">(000) 000-0000</li>
            <li class="icon solid fa-home">1234 Somewhere Road
              #8254<br /> Nashville, TN 00000-0000
            </li>
          </ul>
        </section>
        <span id="showMenu">SHOW</span>
        <!-- Footer -->
        <footer id="footer">
          <p class="copyright">
            &copy; Untitled. All rights reserved. Demo Images: <a
              href="https://unsplash.com">Unsplash</a>. Design: <a
              href="https://html5up.net">HTML5 UP</a>.
          </p>
        </footer>

      </div>
    </div>
    <script>
    let showMenu = document.querySelector('#showMenu');
    let hideMenu = document.querySelectorAll('#homeMenu, #projectMenu');

    showMenu.addEventListener('click', function() {
        
        if (showMenu.textContent == 'SHOW') {
            hideMenu.forEach(function(element){
                element.style.visibility = "visible";
            })            
            showMenu.textContent = 'HIDE'; 
        } else {
            hideMenu.forEach(function(element){
                element.style.visibility = "hidden";
            })       
            showMenu.textContent = 'SHOW'; 
        }
        
    });
    </script>